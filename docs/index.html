<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR-Assistant | Sistema Avanzado de Gesti贸n de Eventos</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93bbfc',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                            950: '#172554'
                        },
                        secondary: {
                            50: '#f5f3ff',
                            100: '#ede9fe',
                            200: '#ddd6fe',
                            300: '#c4b5fd',
                            400: '#a78bfa',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                            700: '#6d28d9',
                            800: '#5b21b6',
                            900: '#4c1d95'
                        }
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s ease-in-out infinite',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'slide-down': 'slideDown 0.5s ease-out',
                        'scale-up': 'scaleUp 0.3s ease-out',
                        'glow': 'glow 2s ease-in-out infinite',
                        'shimmer': 'shimmer 2s linear infinite'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        slideDown: {
                            '0%': { transform: 'translateY(-20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        scaleUp: {
                            '0%': { transform: 'scale(0.95)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' }
                        },
                        glow: {
                            '0%, 100%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.5)' },
                            '50%': { boxShadow: '0 0 40px rgba(139, 92, 246, 0.8)' }
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-1000px 0' },
                            '100%': { backgroundPosition: '1000px 0' }
                        }
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    
    <!-- QRCode.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- Alpine.js for reactivity -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        h1, h2, h3, h4, h5, h6, .font-heading {
            font-family: 'Poppins', sans-serif;
        }
        
        .glass-morphism {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .dark .glass-morphism {
            background: rgba(30, 41, 59, 0.95);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .gradient-mesh {
            background-image: 
                radial-gradient(at 40% 20%, hsla(28,100%,74%,0.3) 0px, transparent 50%),
                radial-gradient(at 80% 0%, hsla(189,100%,56%,0.3) 0px, transparent 50%),
                radial-gradient(at 0% 50%, hsla(355,100%,93%,0.3) 0px, transparent 50%),
                radial-gradient(at 80% 50%, hsla(340,100%,76%,0.3) 0px, transparent 50%),
                radial-gradient(at 0% 100%, hsla(22,100%,77%,0.3) 0px, transparent 50%),
                radial-gradient(at 80% 100%, hsla(242,100%,70%,0.3) 0px, transparent 50%),
                radial-gradient(at 0% 0%, hsla(343,100%,76%,0.3) 0px, transparent 50%);
        }
        
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hover-lift:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .shimmer {
            background: linear-gradient(90deg, #f0f0f0 0px, #f8f8f8 40px, #f0f0f0 80px);
            background-size: 1000px 100%;
            animation: shimmer 2s linear infinite;
        }
        
        .gradient-border {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899, #3b82f6);
            background-size: 400% 400%;
            animation: gradientShift 3s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .neon-glow {
            box-shadow: 
                0 0 10px rgba(59, 130, 246, 0.5),
                0 0 20px rgba(59, 130, 246, 0.3),
                0 0 30px rgba(59, 130, 246, 0.2);
        }
        
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .scanner-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #3b82f6, transparent);
            animation: scan 2s linear infinite;
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #2563eb, #7c3aed);
        }
        
        .dark ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        
        /* Glassmorphism Cards */
        .card-glass {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 100%);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Chart Container Styles */
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        /* Notification Badge */
        .notification-dot {
            position: absolute;
            top: -4px;
            right: -4px;
            width: 12px;
            height: 12px;
            background: #ef4444;
            border-radius: 50%;
            border: 2px solid white;
            animation: pulse 2s infinite;
        }


        .dark\:bg-slate-700:is(.dark *) {
            color:white;
        }
        .dark text {
            color:white;
        }

        .titleh2 {
            display: none;
        }
        .dateInfor {
            display: none !important;
        }

        @media (min-width: 1024px) {
            .titleh2 {
                display: block !important;
            } 

            .dateInfor {
                display: block !important;
            }
        }
    </style>
</head>
<body x-data="qrAssistantApp()" x-init="init()" class="antialiased bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 min-h-screen">
    
    <!-- Loading Screen -->
    <div x-show="isLoading" x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" 
         class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700">
        <div class="text-center text-white">
            <div class="w-20 h-20 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
            <h2 class="text-2xl font-bold mb-2">QR-Assistant</h2>
            <p class="text-blue-100">Cargando sistema...</p>
        </div>
    </div>

    <!-- Main Container -->
    <div class="flex h-screen overflow-hidden">
        
        <!-- Sidebar -->
        <aside :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'" 
               class="fixed lg:relative w-72 h-full bg-white dark:bg-slate-800 shadow-2xl z-40 transition-transform duration-300 ease-in-out">
            <div class="h-full flex flex-col">
                
                <!-- Logo Section -->
                <div class="p-6 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center space-x-3">
                        <div class="relative">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg animate-pulse-slow">
                                <i class="fas fa-qrcode text-white text-xl"></i>
                            </div>
                            <div class="notification-dot"></div>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">QR-Assistant</h1>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Sistema de Asistencia</p>
                        </div>
                    </div>
                </div>
                
                <!-- Navigation -->
                <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
                    <template x-for="item in menuItems" :key="item.id">
                        <button
                            @click="activeView = item.view" 
                            :class="activeView === item.view ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg' : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700'"
                            class="w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 group">
                            <i :class="item.icon + ' ' + (activeView === item.view ? 'animate-pulse' : '')" class="text-lg"></i>
                            <span class="font-medium" x-text="item.name"></span>
                            <template x-if="item.badge">
                                <span class="ml-auto px-2 py-1 text-xs rounded-full" 
                                      :class="activeView === item.view ? 'bg-white/20 text-white' : 'bg-red-500 text-white'"
                                      x-text="item.badge"></span>
                            </template>
                        </button>
                    </template>
                </nav>
                
                <!-- User Profile -->
                <div class="p-4 border-t border-gray-200 dark:border-gray-700">
                    <div class="flex items-center space-x-3 p-3 rounded-xl bg-gradient-to-r from-blue-50 to-purple-50 dark:from-slate-700 dark:to-slate-600">
                        <img src="https://ui-avatars.com/api/?name=Admin+Usuario&background=3b82f6&color=fff" 
                             class="w-10 h-10 rounded-full ring-2 ring-white shadow-lg" alt="User">
                        <div class="flex-1">
                            <p class="font-semibold text-sm text-gray-800 dark:text-white">Admin Usuario</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">admin@qr-assist.com</p>
                        </div>
                        <button @click="toggleTheme" class="p-2 rounded-lg hover:bg-white/50 dark:hover:bg-slate-500 transition">
                            <i :class="darkMode ? 'fas fa-sun text-yellow-400' : 'fas fa-moon text-gray-600'" class="text-lg"></i>
                        </button>
                    </div>
                    <button @click="showLogoutModal = true" 
                            class="w-full mt-3 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Cerrar Sesi贸n</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Overlay para cerrar el sidebar en mobile al hacer clic fuera -->
        <div
            x-show="sidebarOpen"
            @click="sidebarOpen = false"
            class="fixed inset-0 bg-black/40 lg:hidden z-30"
        ></div>
        
        <!-- Mobile Menu Toggle -->
        <!-- <button @click="sidebarOpen = !sidebarOpen" 
                class="lg:hidden fixed top-4 left-4 z-50 p-3 bg-white dark:bg-slate-800 rounded-lg shadow-lg">
            <i class="fas fa-bars text-gray-700 dark:text-white"></i>
        </button> -->
        
        <!-- Main Content Area -->
        <main class="flex-1 overflow-y-auto">
            
            <!-- Top Bar -->
            <header class="sticky top-0 z-30 bg-white/80 dark:bg-slate-800/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700">
                <div class="px-6 py-4">
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <h2 class="titleh2 text-2xl font-bold text-gray-800 dark:text-white" x-text="getCurrentViewTitle()"></h2>
                            <button @click="sidebarOpen = !sidebarOpen" 
                                    class="lg:hidden fixed top-4 left-4 z-50 p-3 bg-white dark:bg-slate-800 rounded-lg shadow-lg">
                                <i class="fas fa-bars text-gray-700 dark:text-white"></i>
                            </button>
                            <div class=" dateInfor hidden md:flex items-center space-x-2 text-sm text-gray-500">
                                <i class="far fa-clock"></i>
                                <span x-text="currentDateTime"></span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <!-- Search Bar -->
                            <div class="relative hidden md:block">
                                <input type="text" placeholder="Buscar..." 
                                       class="pl-10 pr-4 py-2 w-64 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                            </div>
                            
                            <!-- Notifications -->
                            <button @click="showNotifications = !showNotifications" class="relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition">
                                <i class="far fa-bell text-gray-600 dark:text-gray-300 text-lg"></i>
                                <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                            </button>
                            
                            <!-- Quick Actions -->
                            <button @click="showQuickCreate = true" 
                                    class="px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2">
                                <i class="fas fa-plus"></i>
                                <span class="hidden md:inline">Crear Evento</span>
                            </button>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Content Container -->
            <div class="p-6">
                
                <!-- Dashboard View -->
                <div x-show="activeView === 'dashboard'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 transform translate-y-4" x-transition:enter-end="opacity-100 transform translate-y-0">
                    
                    <!-- Welcome Section -->
                    <div class="mb-8" data-aos="fade-down">
                        <div class="glass-morphism rounded-2xl p-6 md:p-8">
                            <div class="flex flex-col md:flex-row items-center justify-between">
                                <div>
                                    <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-2">
                                        隆Bienvenido de nuevo! <span class="wave"></span>
                                    </h1>
                                    <p class="text-gray-600 dark:text-gray-300">
                                        Tienes <span class="font-bold text-blue-600">3 eventos</span> programados para hoy
                                    </p>
                                </div>
                                <div class="mt-4 md:mt-0">
                                    <div class="flex items-center space-x-4">
                                        <div class="text-right">
                                            <p class="text-sm text-gray-500 dark:text-gray-400">Eficiencia del Sistema</p>
                                            <p class="text-2xl font-bold text-green-500">98.5%</p>
                                        </div>
                                        <div class="w-16 h-16">
                                            <svg class="transform">
                                                <circle cx="32" cy="32" r="28" stroke="#e5e7eb" stroke-width="8" fill="none"></circle>
                                                <circle cx="32" cy="32" r="28" stroke="#10b981" stroke-width="8" fill="none" 
                                                        stroke-dasharray="176" stroke-dashoffset="4.4" stroke-linecap="round"></circle>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Stats Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <template x-for="stat in stats" :key="stat.id">
                            <!-- :data-aos="stat.animation" -->
                            <div class="glass-morphism rounded-xl p-6 hover-lift" >
                                <div class="flex items-center justify-between mb-4">
                                    <div :class="stat.bgColor" class="p-3 rounded-lg">
                                        <i :class="stat.icon + ' ' + stat.iconColor" class="text-2xl"></i>
                                    </div>
                                    <div class="text-right">
                                        <span :class="stat.trend > 0 ? 'text-green-500' : 'text-red-500'" class="text-sm font-medium flex items-center">
                                            <i :class="stat.trend > 0 ? 'fas fa-arrow-up' : 'fas fa-arrow-down'" class="mr-1"></i>
                                            <span x-text="Math.abs(stat.trend) + '%'"></span>
                                        </span>
                                    </div>
                                </div>
                                <p class="text-gray-500 dark:text-gray-400 text-sm mb-1" x-text="stat.label"></p>
                                <p class="text-3xl font-bold text-gray-800 dark:text-white" x-text="stat.value"></p>
                                <div class="mt-4 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                    <div :style="`width: ${stat.progress}%`" class="bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500"></div>
                                </div>
                            </div>
                        </template>
                    </div>
                    
                    <!-- Charts Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <!-- Attendance Chart -->
                        <div class="glass-morphism rounded-xl p-6" >
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Asistencia Semanal</h3>
                                <select class="px-3 py-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-sm">
                                    <option>Esta Semana</option>
                                    <option>ltima Semana</option>
                                    <option>ltimo Mes</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="attendanceChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Events Distribution -->
                        <div class="glass-morphism rounded-xl p-6" >
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Distribuci贸n de Eventos</h3>
                                <button class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition">
                                    <i class="fas fa-ellipsis-h text-gray-600 dark:text-gray-400"></i>
                                </button>
                            </div>
                            <div id="eventsDonutChart"></div>
                        </div>
                    </div>
                    
                    <!-- Recent Events Table -->
                    <div class="glass-morphism rounded-xl overflow-hidden">
                        <div class="px-6 py-4 bg-gradient-to-r from-blue-500 to-purple-600">
                            <h3 class="text-lg font-semibold text-white">Eventos Recientes</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50 dark:bg-slate-700">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Evento</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Fecha</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Asistentes</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Estado</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-gray-700">
                                    <template x-for="event in recentEvents" :key="event.id">
                                        <tr class="hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors">
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <div class="w-10 h-10 rounded-lg bg-gradient-to-br flex items-center justify-center" :class="event.color">
                                                        <i :class="event.icon" class="text-white"></i>
                                                    </div>
                                                    <div class="ml-4">
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white" x-text="event.name"></div>
                                                        <div class="text-sm text-gray-500 dark:text-gray-400" x-text="event.location"></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300" x-text="event.date"></td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <span class="text-sm font-medium text-gray-900 dark:text-white" x-text="event.attendees"></span>
                                                    <div class="ml-2 w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                                        <div class="bg-blue-500 h-2 rounded-full" :style="`width: ${event.attendeesPercent}%`"></div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full" 
                                                      :class="event.statusColor" x-text="event.status"></span>
                                            </td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                <button class="text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button class="text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 mr-3">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Events View -->
                <div x-show="activeView === 'events'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                    <div class="glass-morphism rounded-2xl p-6 md:p-8">
                        <div class="mb-6">
                            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-2">Gesti贸n de Eventos</h2>
                            <p class="text-gray-600 dark:text-gray-300">Crea y administra eventos con c贸digos QR 煤nicos</p>
                        </div>
                        
                        <!-- Event Creation Form -->
                        <form @submit.prevent="createEvent" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div data-aos="fade-up" data-aos-delay="100">
                                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                        <i class="fas fa-tag text-blue-500 mr-2"></i>Nombre del Evento
                                    </label>
                                    <input type="text" x-model="newEvent.name" required
                                           class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition-colors">
                                </div>
                                
                                <div data-aos="fade-up" data-aos-delay="150">
                                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                        <i class="fas fa-building text-blue-500 mr-2"></i>Tipo de Evento
                                    </label>
                                    <select x-model="newEvent.type" 
                                            class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition-colors">
                                        <option value="conference">Conferencia</option>
                                        <option value="workshop">Taller</option>
                                        <option value="seminar">Seminario</option>
                                        <option value="networking">Networking</option>
                                        <option value="cultural">Cultural</option>
                                    </select>
                                </div>
                                
                                <div data-aos="fade-up" data-aos-delay="200">
                                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                        <i class="fas fa-calendar text-blue-500 mr-2"></i>Fecha del Evento
                                    </label>
                                    <input type="date" x-model="newEvent.date" required
                                           class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition-colors">
                                </div>
                                
                                <div data-aos="fade-up" data-aos-delay="250">
                                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                        <i class="fas fa-clock text-blue-500 mr-2"></i>Hora
                                    </label>
                                    <input type="time" x-model="newEvent.time" required
                                           class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition-colors">
                                </div>
                                
                                <div data-aos="fade-up" data-aos-delay="300">
                                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                        <i class="fas fa-map-marker-alt text-blue-500 mr-2"></i>Ubicaci贸n
                                    </label>
                                    <input type="text" x-model="newEvent.location" required
                                           class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition-colors">
                                </div>
                                
                                <div data-aos="fade-up" data-aos-delay="350">
                                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                        <i class="fas fa-users text-blue-500 mr-2"></i>Capacidad M谩xima
                                    </label>
                                    <input type="number" x-model="newEvent.capacity" min="1" required
                                           class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition-colors">
                                </div>
                            </div>
                            
                            <div data-aos="fade-up" data-aos-delay="400">
                                <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                    <i class="fas fa-align-left text-blue-500 mr-2"></i>Descripci贸n
                                </label>
                                <textarea x-model="newEvent.description" rows="4" required
                                          class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition-colors"></textarea>
                            </div>
                            
                            <!-- Advanced Options -->
                            <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
                                <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Opciones Avanzadas</h3>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <label class="flex items-center space-x-3 cursor-pointer">
                                        <input type="checkbox" x-model="newEvent.requiresRegistration" 
                                               class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                                        <span class="text-sm text-gray-700 dark:text-gray-300">Requiere Registro Previo</span>
                                    </label>
                                    
                                    <label class="flex items-center space-x-3 cursor-pointer">
                                        <input type="checkbox" x-model="newEvent.sendReminders" 
                                               class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                                        <span class="text-sm text-gray-700 dark:text-gray-300">Enviar Recordatorios</span>
                                    </label>
                                    
                                    <label class="flex items-center space-x-3 cursor-pointer">
                                        <input type="checkbox" x-model="newEvent.publicEvent" 
                                               class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                                        <span class="text-sm text-gray-700 dark:text-gray-300">Evento P煤blico</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="flex flex-col md:flex-row gap-4">
                                <button type="submit" 
                                        class="flex-1 px-6 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200">
                                    <i class="fas fa-qrcode mr-2"></i>Generar Evento y C贸digo QR
                                </button>
                                <button type="button" @click="resetEventForm" 
                                        class="flex-1 px-6 py-4 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:shadow-lg transition-all duration-200">
                                    <i class="fas fa-times mr-2"></i>Cancelar
                                </button>
                            </div>
                        </form>
                        
                        <!-- QR Code Display -->
                        <div x-show="showQRCode" x-transition:enter="transition ease-out duration-500" x-transition:enter-start="opacity-0 transform scale-90" x-transition:enter-end="opacity-100 transform scale-100"
                             class="mt-8 glass-morphism rounded-xl p-8">
                            <div class="text-center">
                                <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">隆C贸digo QR Generado!</h3>
                                <div class="inline-block p-8 bg-white rounded-xl shadow-2xl mb-6">
                                    <div id="qrcode"></div>
                                </div>
                                <div class="flex justify-center space-x-4">
                                    <button @click="downloadQR" class="px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                        <i class="fas fa-download"></i>
                                        <span>Descargar</span>
                                    </button>
                                    <button @click="shareQR" class="px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                        <i class="fas fa-share-alt"></i>
                                        <span>Compartir</span>
                                    </button>
                                    <button @click="printQR" class="px-6 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                        <i class="fas fa-print"></i>
                                        <span>Imprimir</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Scanner View -->
                <div x-show="activeView === 'scanner'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                    <div class="glass-morphism rounded-2xl p-6 md:p-8">
                        <div class="max-w-2xl mx-auto">
                            <div class="text-center mb-8">
                                <div class="w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-float">
                                    <i class="fas fa-qrcode text-white text-4xl"></i>
                                </div>
                                <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Esc谩ner QR</h2>
                                <p class="text-gray-600 dark:text-gray-300">Escanea el c贸digo QR del evento para registrar asistencia</p>
                            </div>
                            
                            <!-- Scanner Area -->
                            <div class="relative bg-black rounded-xl overflow-hidden mb-6" style="height: 400px;">
                                <div class="scanner-line"></div>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <div class="border-2 border-white/30 w-64 h-64 rounded-lg">
                                        <div class="absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-white"></div>
                                        <div class="absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-white"></div>
                                        <div class="absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-white"></div>
                                        <div class="absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-white"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex justify-center space-x-4">
                                <button @click="startScanning" class="px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                    <i class="fas fa-camera"></i>
                                    <span>Iniciar Esc谩ner</span>
                                </button>
                                <button class="px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                    <i class="fas fa-upload"></i>
                                    <span>Cargar Imagen</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Attendance View (Asistencia) -->
                <div x-show="activeView === 'attendance'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                    <div class="space-y-6">
                        <div class="glass-morphism rounded-2xl p-6 md:p-8">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
                                <div>
                                    <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-1">Panel de Asistencia</h2>
                                    <p class="text-gray-600 dark:text-gray-300 text-sm md:text-base">
                                        Visualiza y controla la asistencia en tus eventos en tiempo real.
                                    </p>
                                </div>
                                <div class="flex flex-wrap gap-3">
                                    <div>
                                        <label class="block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1">Evento</label>
                                        <select x-model="attendanceFilters.event"
                                                class="px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                                            <option value="all">Todos los eventos</option>
                                            <template x-for="event in attendanceEvents" :key="event.id">
                                                <option :value="event.id" x-text="event.name"></option>
                                            </template>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1">Estado</label>
                                        <select x-model="attendanceFilters.status"
                                                class="px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                                            <option value="all">Todos</option>
                                            <option value="present">Presentes</option>
                                            <option value="late">Tarde</option>
                                            <option value="absent">Ausentes</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Summary cards -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                <div class="card-glass rounded-xl p-4 flex items-center justify-between">
                                    <div>
                                        <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1">Registrados</p>
                                        <p class="text-2xl font-bold text-gray-800 dark:text-white" x-text="getAttendanceSummary().total"></p>
                                    </div>
                                    <div class="w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center">
                                        <i class="fas fa-users text-blue-500"></i>
                                    </div>
                                </div>
                                <div class="card-glass rounded-xl p-4 flex items-center justify-between">
                                    <div>
                                        <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1">Presentes</p>
                                        <p class="text-2xl font-bold text-gray-800 dark:text-white" x-text="getAttendanceSummary().present"></p>
                                    </div>
                                    <div class="w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center">
                                        <i class="fas fa-user-check text-emerald-500"></i>
                                    </div>
                                </div>
                                <div class="card-glass rounded-xl p-4 flex items-center justify-between">
                                    <div>
                                        <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1">Ausentes / Tarde</p>
                                        <p class="text-2xl font-bold text-gray-800 dark:text-white" x-text="getAttendanceSummary().late + getAttendanceSummary().absent"></p>
                                    </div>
                                    <div class="w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center">
                                        <i class="fas fa-user-times text-amber-500"></i>
                                    </div>
                                </div>
                            </div>

                            <!-- Actions + search -->
                            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4">
                                <div class="flex flex-wrap gap-3">
                                    <button class="px-4 py-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-semibold flex items-center gap-2 hover:shadow-lg transition">
                                        <i class="fas fa-clipboard-check"></i>
                                        <span>Registrar asistencia manual</span>
                                    </button>
                                    <button class="px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-200 flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-slate-700 transition">
                                        <i class="fas fa-file-export"></i>
                                        <span>Exportar listado</span>
                                    </button>
                                </div>
                                <div class="relative w-full md:w-72">
                                    <input x-model="attendanceFilters.search" type="text" placeholder="Buscar por nombre o documento..."
                                           class="w-full pl-10 pr-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                                </div>
                            </div>

                            <!-- Attendance table -->
                            <div class="overflow-hidden border border-gray-200 dark:border-gray-700 rounded-2xl">
                                <div class="overflow-x-auto">
                                    <table class="w-full text-sm">
                                        <thead class="bg-gray-50 dark:bg-slate-700">
                                            <tr>
                                                <th class="px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider">Participante</th>
                                                <th class="px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider">Evento</th>
                                                <th class="px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider">Hora de ingreso</th>
                                                <th class="px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider">Estado</th>
                                                <th class="px-6 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-gray-700">
                                            <template x-for="record in filteredAttendance()" :key="record.id">
                                                <tr class="hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors">
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="flex items-center space-x-3">
                                                            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-xs font-semibold text-white">
                                                                <span x-text="record.initials"></span>
                                                            </div>
                                                            <div>
                                                                <p class="font-medium text-gray-900 dark:text-white" x-text="record.name"></p>
                                                                <p class="text-xs text-gray-500 dark:text-gray-400" x-text="'Documento: ' + record.document"></p>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-200" x-text="record.eventName"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-gray-700 dark:text-gray-200" x-text="record.checkIn"></td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full"
                                                              :class="statusBadgeClass(record.status)"
                                                              x-text="statusLabel(record.status)"></span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="flex items-center gap-2">
                                                            <button @click="toggleAttendanceStatus(record.id)"
                                                                    class="px-3 py-1 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800 transition">
                                                                Alternar estado
                                                            </button>
                                                            <button @click="markAsLate(record.id)"
                                                                    class="px-3 py-1 rounded-full text-xs font-semibold bg-amber-50 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200 hover:bg-amber-100 dark:hover:bg-amber-800 transition">
                                                                Marcar tarde
                                                            </button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </template>
                                            <tr x-show="filteredAttendance().length === 0">
                                                <td colspan="5" class="px-6 py-8 text-center text-gray-500 dark:text-gray-400">
                                                    No se encontraron registros de asistencia con los filtros seleccionados.
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                
                <!-- Reports View -->
                <div x-show="activeView === 'reports'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                    <div class="space-y-6">
                        <!-- Export Options -->
                        <div class="glass-morphism rounded-xl p-6">
                            <div class="flex flex-col md:flex-row items-center justify-between">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white">Opciones de Exportaci贸n</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Genera reportes detallados en m煤ltiples formatos</p>
                                </div>
                                <div class="flex space-x-3 mt-4 md:mt-0">
                                    <button class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                        <i class="fas fa-file-pdf"></i>
                                        <span>PDF</span>
                                    </button>
                                    <button class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                        <i class="fas fa-file-excel"></i>
                                        <span>Excel</span>
                                    </button>
                                    <button class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors flex items-center space-x-2">
                                        <i class="fas fa-file-csv"></i>
                                        <span>CSV</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Analytics Overview -->
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2 glass-morphism rounded-xl p-6">
                                <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">An谩lisis de Tendencias</h3>
                                <div id="trendsChart"></div>
                            </div>
                            <div class="glass-morphism rounded-xl p-6">
                                <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">M茅tricas Clave</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between p-3 bg-blue-50 dark:bg-slate-700 rounded-lg">
                                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Tasa de Asistencia</span>
                                        <span class="text-lg font-bold text-blue-600">89%</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-green-50 dark:bg-slate-700 rounded-lg">
                                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Satisfacci贸n</span>
                                        <span class="text-lg font-bold text-green-600">4.8/5</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-purple-50 dark:bg-slate-700 rounded-lg">
                                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Retenci贸n</span>
                                        <span class="text-lg font-bold text-purple-600">76%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings View (Configuraci贸n) -->
                <div x-show="activeView === 'settings'" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100">
                    <div class="space-y-6">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <!-- Main settings card -->
                            <div class="lg:col-span-2 glass-morphism rounded-2xl p-6 md:p-8">
                                <div class="mb-6">
                                    <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-1">Configuraci贸n del Sistema</h2>
                                    <p class="text-gray-600 dark:text-gray-300 text-sm md:text-base">
                                        Ajusta QR-Assistant para alinearlo con los procesos acad茅micos y administrativos de tu organizaci贸n.
                                    </p>
                                </div>

                                <div class="space-y-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                                Nombre de la instituci贸n
                                            </label>
                                            <input type="text" x-model="settings.organizationName"
                                                   class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                                Correo de contacto
                                            </label>
                                            <input type="email" x-model="settings.organizationEmail"
                                                   class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition">
                                        </div>
                                    </div>

                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div>
                                            <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                                Idioma
                                            </label>
                                            <select x-model="settings.language"
                                                    class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition">
                                                <option value="es">Espa帽ol</option>
                                                <option value="en">Ingl茅s</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                                Zona horaria
                                            </label>
                                            <select x-model="settings.timeZone"
                                                    class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition">
                                                <option value="America/Bogota">America/Bogota</option>
                                                <option value="America/Mexico_City">America/Mexico_City</option>
                                                <option value="Europe/Madrid">Europe/Madrid</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                                                Formato de fecha
                                            </label>
                                            <select x-model="settings.dateFormat"
                                                    class="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-white dark:bg-slate-700 focus:border-blue-500 focus:outline-none transition">
                                                <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                                                <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                                                <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Notifications & security -->
                                    <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
                                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Notificaciones y seguridad</h3>
                                        <div class="space-y-4 text-sm">
                                            <label class="flex items-center justify-between gap-4 cursor-pointer">
                                                <div>
                                                    <p class="font-medium text-gray-800 dark:text-gray-100">Recordatorios de eventos por correo</p>
                                                    <p class="text-xs text-gray-500 dark:text-gray-400">
                                                        Env铆a correos autom谩ticos a participantes registrados antes de cada evento.
                                                    </p>
                                                </div>
                                                <button @click="settings.emailReminders = !settings.emailReminders"
                                                        :class="settings.emailReminders ? 'bg-blue-500' : 'bg-gray-300 dark:bg-slate-600'"
                                                        class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
                                                    <span :class="settings.emailReminders ? 'translate-x-6' : 'translate-x-1'"
                                                          class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
                                                </button>
                                            </label>

                                            <label class="flex items-center justify-between gap-4 cursor-pointer">
                                                <div>
                                                    <p class="font-medium text-gray-800 dark:text-gray-100">Notificaciones en la plataforma</p>
                                                    <p class="text-xs text-gray-500 dark:text-gray-400">
                                                        Muestra alertas en tiempo real cuando se detecten nuevos registros de entrada.
                                                    </p>
                                                </div>
                                                <button @click="settings.pushNotifications = !settings.pushNotifications"
                                                        :class="settings.pushNotifications ? 'bg-blue-500' : 'bg-gray-300 dark:bg-slate-600'"
                                                        class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
                                                    <span :class="settings.pushNotifications ? 'translate-x-6' : 'translate-x-1'"
                                                          class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
                                                </button>
                                            </label>

                                            <label class="flex items-center justify-between gap-4 cursor-pointer">
                                                <div>
                                                    <p class="font-medium text-gray-800 dark:text-gray-100">Modo oscuro autom谩tico</p>
                                                    <p class="text-xs text-gray-500 dark:text-gray-400">
                                                        Adapta la interfaz seg煤n la hora del d铆a o la configuraci贸n del sistema.
                                                    </p>
                                                </div>
                                                <button @click="settings.autoDarkMode = !settings.autoDarkMode; if(settings.autoDarkMode){ setTheme('auto') }"
                                                        :class="settings.autoDarkMode ? 'bg-blue-500' : 'bg-gray-300 dark:bg-slate-600'"
                                                        class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
                                                    <span :class="settings.autoDarkMode ? 'translate-x-6' : 'translate-x-1'"
                                                          class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
                                                </button>
                                            </label>
                                        </div>
                                    </div>

                                    <!-- Appearance -->
                                    <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
                                        <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Apariencia</h3>
                                        <p class="text-xs text-gray-500 dark:text-gray-400 mb-3">
                                            Elige c贸mo se comporta el modo claro/oscuro en toda la plataforma.
                                        </p>
                                        <div class="flex flex-wrap gap-3">
                                            <button
                                                @click="setTheme('auto')"
                                                :class="settings.theme === 'auto' ? 'ring-2 ring-blue-500 bg-blue-50 dark:bg-slate-700' : 'bg-white/70 dark:bg-slate-700/60'"
                                                class="px-4 py-2 rounded-xl text-sm font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2 shadow-sm hover:shadow-md transition">
                                                <i class="fas fa-adjust"></i>
                                                <span>Autom谩tico</span>
                                            </button>
                                            <button
                                                @click="setTheme('light')"
                                                :class="settings.theme === 'light' ? 'ring-2 ring-blue-500 bg-blue-50 dark:bg-slate-700' : 'bg-white/70 dark:bg-slate-700/60'"
                                                class="px-4 py-2 rounded-xl text-sm font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2 shadow-sm hover:shadow-md transition">
                                                <i class="fas fa-sun"></i>
                                                <span>Claro</span>
                                            </button>
                                            <button
                                                @click="setTheme('dark')"
                                                :class="settings.theme === 'dark' ? 'ring-2 ring-blue-500 bg-blue-50 dark:bg-slate-700' : 'bg-white/70 dark:bg-slate-700/60'"
                                                class="px-4 py-2 rounded-xl text-sm font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2 shadow-sm hover:shadow-md transition">
                                                <i class="fas fa-moon"></i>
                                                <span>Oscuro</span>
                                            </button>
                                        </div>
                                    </div>

                                    <div class="flex justify-end gap-3 pt-4">
                                        <button @click="resetSettings"
                                                class="px-4 py-2 rounded-xl border border-gray-300 dark:border-gray-600 text-sm font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-700 transition">
                                            Restablecer
                                        </button>
                                        <button @click="saveSettings"
                                                class="px-5 py-2.5 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-sm font-semibold text-white shadow-md hover:shadow-lg hover:scale-[1.02] transform transition">
                                            Guardar cambios
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Side summary / scanner preferences -->
                            <div class="space-y-6">
                                <div class="glass-morphism rounded-2xl p-6">
                                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-2">Resumen r谩pido</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
                                        Vista general de la configuraci贸n actual del sistema.
                                    </p>
                                    <dl class="space-y-3 text-sm">
                                        <div class="flex items-center justify-between gap-4">
                                            <dt class="text-gray-500 dark:text-gray-400">Instituci贸n</dt>
                                            <dd class="font-medium text-gray-800 dark:text-gray-100 truncate max-w-[55%]" x-text="settings.organizationName"></dd>
                                        </div>
                                        <div class="flex items-center justify-between gap-4">
                                            <dt class="text-gray-500 dark:text-gray-400">Idioma</dt>
                                            <dd class="font-medium text-gray-800 dark:text-gray-100" x-text="settings.language === 'es' ? 'Espa帽ol' : 'Ingl茅s'"></dd>
                                        </div>
                                        <div class="flex items-center justify-between gap-4">
                                            <dt class="text-gray-500 dark:text-gray-400">Zona horaria</dt>
                                            <dd class="font-medium text-gray-800 dark:text-gray-100" x-text="settings.timeZone"></dd>
                                        </div>
                                        <div class="flex items-center justify-between gap-4">
                                            <dt class="text-gray-500 dark:text-gray-400">Tema</dt>
                                            <dd class="font-medium text-gray-800 dark:text-gray-100 capitalize" x-text="settings.theme"></dd>
                                        </div>
                                    </dl>
                                </div>

                                <div class="glass-morphism rounded-2xl p-6">
                                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-3">Preferencias del esc谩ner</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
                                        Mejora la experiencia durante el registro de asistencia mediante c贸digos QR.
                                    </p>
                                    <div class="space-y-4 text-sm">
                                        <label class="flex items-center justify-between gap-3 cursor-pointer">
                                            <div>
                                                <p class="font-medium text-gray-800 dark:text-gray-100">Activar sonido de confirmaci贸n</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">
                                                    Reproduce un sonido al escanear un QR v谩lido.
                                                </p>
                                            </div>
                                            <button @click="settings.soundAlerts = !settings.soundAlerts"
                                                    :class="settings.soundAlerts ? 'bg-emerald-500' : 'bg-gray-300 dark:bg-slate-600'"
                                                    class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
                                                <span :class="settings.soundAlerts ? 'translate-x-6' : 'translate-x-1'"
                                                      class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
                                            </button>
                                        </label>

                                        <label class="flex items-center justify-between gap-3 cursor-pointer">
                                            <div>
                                                <p class="font-medium text-gray-800 dark:text-gray-100">Mantener sesi贸n activa</p>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">
                                                    Evita cierres de sesi贸n en jornadas de eventos extensas.
                                                </p>
                                            </div>
                                            <button @click="settings.keepSessionActive = !settings.keepSessionActive"
                                                    :class="settings.keepSessionActive ? 'bg-emerald-500' : 'bg-gray-300 dark:bg-slate-600'"
                                                    class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
                                                <span :class="settings.keepSessionActive ? 'translate-x-6' : 'translate-x-1'"
                                                      class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
                                            </button>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>
    
    <!-- Modals -->
    <!-- Quick Create Modal -->
    <div x-show="showQuickCreate" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         class="fixed inset-0 z-50 overflow-y-auto" style="display: none;">
        <div class="flex items-center justify-center min-h-screen px-4">
            <div class="fixed inset-0 bg-black opacity-50" @click="showQuickCreate = false"></div>
            <div class="relative bg-white dark:bg-slate-800 rounded-2xl max-w-md w-full p-6 shadow-2xl">
                <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4">Crear Evento R谩pido</h3>
                <form @submit.prevent="quickCreateEvent" class="space-y-4">
                    <input type="text" placeholder="Nombre del evento" required
                           class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="datetime-local" required
                           class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="text" placeholder="Ubicaci贸n" required
                           class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <div class="flex space-x-3">
                        <button type="submit" class="flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors">
                            Crear
                        </button>
                        <button type="button" @click="showQuickCreate = false" class="flex-1 px-4 py-3 bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-lg transition-colors">
                            Cancelar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Toast Notifications -->
    <div x-show="toast.show" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 transform translate-x-full" x-transition:enter-end="opacity-100 transform translate-x-0"
         :class="{'bg-green-500': toast.type === 'success', 'bg-red-500': toast.type === 'error', 'bg-blue-500': toast.type === 'info'}"
         class="fixed bottom-4 right-4 px-6 py-4 rounded-lg text-white shadow-lg flex items-center space-x-3 z-50">
        <i :class="{'fas fa-check-circle': toast.type === 'success', 'fas fa-times-circle': toast.type === 'error', 'fas fa-info-circle': toast.type === 'info'}"></i>
        <span x-text="toast.message"></span>
    </div>
    
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true
        });
        
        // Alpine.js Component
        function qrAssistantApp() {
            return {
                // State
                isLoading: true,
                darkMode: false,
                sidebarOpen: false,
                activeView: 'dashboard',
                currentDateTime: '',
                showNotifications: false,
                showQuickCreate: false,
                showQRCode: false,
                showLogoutModal: false,
                
                // Data
                menuItems: [
                    { id: 1, name: 'Dashboard', icon: 'fas fa-home', view: 'dashboard' },
                    { id: 2, name: 'Eventos', icon: 'fas fa-calendar-alt', view: 'events', badge: '3' },
                    { id: 3, name: 'Esc谩ner QR', icon: 'fas fa-qrcode', view: 'scanner' },
                    { id: 4, name: 'Asistencia', icon: 'fas fa-user-check', view: 'attendance' },
                    { id: 5, name: 'Reportes', icon: 'fas fa-chart-bar', view: 'reports' },
                    { id: 6, name: 'Configuraci贸n', icon: 'fas fa-cog', view: 'settings' }
                ],
                
                stats: [
                    { id: 1, label: 'Total Eventos', value: '124', icon: 'fas fa-calendar-check', bgColor: 'bg-blue-100 dark:bg-blue-900/30', iconColor: 'text-blue-600', trend: 12, progress: 75, animation: 'fade-up' },
                    { id: 2, label: 'Total Asistentes', value: '8,547', icon: 'fas fa-users', bgColor: 'bg-green-100 dark:bg-green-900/30', iconColor: 'text-green-600', trend: 8, progress: 89, animation: 'fade-up' },
                    { id: 3, label: 'Eventos Hoy', value: '3', icon: 'fas fa-clock', bgColor: 'bg-purple-100 dark:bg-purple-900/30', iconColor: 'text-purple-600', trend: -2, progress: 60, animation: 'fade-up' },
                    { id: 4, label: 'Tasa Asistencia', value: '92%', icon: 'fas fa-chart-line', bgColor: 'bg-orange-100 dark:bg-orange-900/30', iconColor: 'text-orange-600', trend: 5, progress: 92, animation: 'fade-up' }
                ],
                
                recentEvents: [
                    { id: 1, name: 'Tech Conference 2025', location: 'Auditorio Principal', date: '15 Ene, 2025', attendees: '245/300', attendeesPercent: 82, status: 'Activo', statusColor: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200', icon: 'fas fa-laptop', color: 'from-blue-500 to-cyan-500' },
                    { id: 2, name: 'Workshop de Innovaci贸n', location: 'Sala A', date: '16 Ene, 2025', attendees: '89/100', attendeesPercent: 89, status: 'Pr贸ximo', statusColor: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200', icon: 'fas fa-lightbulb', color: 'from-yellow-500 to-orange-500' },
                    { id: 3, name: 'Networking Empresarial', location: 'Terraza', date: '14 Ene, 2025', attendees: '156/200', attendeesPercent: 78, status: 'Completado', statusColor: 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200', icon: 'fas fa-handshake', color: 'from-purple-500 to-pink-500' }
                ],
                
                newEvent: {
                    name: '',
                    type: 'conference',
                    date: '',
                    time: '',
                    location: '',
                    capacity: 100,
                    description: '',
                    requiresRegistration: false,
                    sendReminders: true,
                    publicEvent: true
                },

                // Attendance data
                attendanceFilters: {
                    event: 'all',
                    status: 'all',
                    search: ''
                },

                attendanceEvents: [
                    { id: 'event-1', name: 'Tech Conference 2025' },
                    { id: 'event-2', name: 'Workshop de Innovaci贸n' },
                    { id: 'event-3', name: 'Networking Empresarial' }
                ],

                attendanceRecords: [
                    { id: 1, name: 'Ana G贸mez', initials: 'AG', document: 'CC 12345678', eventId: 'event-1', eventName: 'Tech Conference 2025', checkIn: '09:05', status: 'present' },
                    { id: 2, name: 'Carlos P茅rez', initials: 'CP', document: 'CC 87654321', eventId: 'event-1', eventName: 'Tech Conference 2025', checkIn: '09:12', status: 'late' },
                    { id: 3, name: 'Laura Rodr铆guez', initials: 'LR', document: 'CC 45678912', eventId: 'event-2', eventName: 'Workshop de Innovaci贸n', checkIn: '10:01', status: 'present' },
                    { id: 4, name: 'Miguel Torres', initials: 'MT', document: 'CC 78912345', eventId: 'event-3', eventName: 'Networking Empresarial', checkIn: '-', status: 'absent' }
                ],

                // Settings
                settings: {
                    organizationName: 'Universidad Demo',
                    organizationEmail: 'coordinacion@universidaddemo.edu.co',
                    language: 'es',
                    timeZone: 'America/Bogota',
                    dateFormat: 'DD/MM/YYYY',
                    emailReminders: true,
                    pushNotifications: true,
                    soundAlerts: false,
                    autoDarkMode: true,
                    keepSessionActive: true,
                    theme: 'auto'
                },
                
                toast: {
                    show: false,
                    message: '',
                    type: 'success'
                },
                
                // Methods
                init() {
                    this.updateDateTime();
                    setInterval(() => this.updateDateTime(), 1000);
                    setTimeout(() => {
                        this.isLoading = false;
                        this.initCharts();
                    }, 1500);
                    
                    // Check dark mode preference
                    if (localStorage.getItem('darkMode') === 'true' || (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                        this.darkMode = true;
                        document.documentElement.classList.add('dark');
                    }
                },
                
                toggleTheme() {
                    this.darkMode = !this.darkMode;
                    document.documentElement.classList.toggle('dark');
                    localStorage.setItem('darkMode', this.darkMode);
                },
                
                updateDateTime() {
                    const now = new Date();
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
                    this.currentDateTime = now.toLocaleDateString('es-ES', options);
                },
                
                getCurrentViewTitle() {
                    const item = this.menuItems.find(item => item.view === this.activeView);
                    return item ? item.name : 'Dashboard';
                },
                
                showToast(message, type = 'success') {
                    this.toast = { show: true, message, type };
                    setTimeout(() => {
                        this.toast.show = false;
                    }, 3000);
                },
                
                createEvent() {
                    // Simulate event creation
                    console.log('Creating event:', this.newEvent);
                    this.generateQRCode();
                    this.showQRCode = true;
                    this.showToast('隆Evento creado exitosamente!', 'success');
                },
                
                resetEventForm() {
                    this.newEvent = {
                        name: '',
                        type: 'conference',
                        date: '',
                        time: '',
                        location: '',
                        capacity: 100,
                        description: '',
                        requiresRegistration: false,
                        sendReminders: true,
                        publicEvent: true
                    };
                    this.showQRCode = false;
                },
                
                quickCreateEvent() {
                    this.showQuickCreate = false;
                    this.showToast('隆Evento r谩pido creado!', 'success');
                },
                
                generateQRCode() {
                    const qrContainer = document.getElementById('qrcode');
                    if (!qrContainer) return;
                    qrContainer.innerHTML = '';
                    new QRCode(qrContainer, {
                        text: JSON.stringify({
                            event: this.newEvent.name,
                            date: this.newEvent.date,
                            time: this.newEvent.time,
                            location: this.newEvent.location,
                            id: Date.now()
                        }),
                        width: 256,
                        height: 256,
                        colorDark: '#1e40af',
                        colorLight: '#ffffff',
                        correctLevel: QRCode.CorrectLevel.H
                    });
                },
                
                downloadQR() {
                    const canvas = document.querySelector('#qrcode canvas');
                    if (!canvas) {
                        this.showToast('No hay c贸digo QR para descargar', 'error');
                        return;
                    }
                    const url = canvas.toDataURL('image/png');
                    const link = document.createElement('a');
                    link.download = 'evento-qr.png';
                    link.href = url;
                    link.click();
                    this.showToast('QR descargado', 'success');
                },
                
                shareQR() {
                    if (navigator.share) {
                        navigator.share({
                            title: 'C贸digo QR del Evento',
                            text: 'Escanea este c贸digo QR para registrar tu asistencia',
                        });
                    } else {
                        this.showToast('Compartir no disponible en este dispositivo', 'error');
                    }
                },
                
                printQR() {
                    window.print();
                    this.showToast('Preparando impresi贸n...', 'info');
                },
                
                startScanning() {
                    this.showToast('Esc谩ner activado', 'info');
                    // Implement actual QR scanning logic here
                },
                
                initCharts() {
                    // Attendance Chart
                    const ctx = document.getElementById('attendanceChart');
                    if (ctx) {
                        new Chart(ctx.getContext('2d'), {
                            type: 'line',
                            data: {
                                labels: ['Lun', 'Mar', 'Mi茅', 'Jue', 'Vie', 'S谩b', 'Dom'],
                                datasets: [{
                                    label: 'Asistentes',
                                    data: [245, 312, 289, 367, 425, 390, 412],
                                    borderColor: 'rgb(59, 130, 246)',
                                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                    tension: 0.4,
                                    fill: true
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        display: false
                                    }
                                },
                                scales: {
                                    y: {
                                        beginAtZero: true
                                    }
                                }
                            }
                        });
                    }
                    
                    // Events Donut Chart
                    // Events Donut Chart
const donutOptions = {
    series: [44, 25, 19, 12],
    chart: {
        type: 'donut',
        height: 320
    },
    labels: ['Conferencias', 'Talleres', 'Networking', 'Otros'],
    colors: ['#3b82f6', '#8b5cf6', '#10b981', '#f59e0b'],
    plotOptions: {
        pie: {
            donut: {
                size: '65%'
            }
        }
    },
    legend: {
        position: 'bottom',
        horizontalAlign: 'center',
        floating: false,
        fontSize: '13px',
        markers: {
            width: 10,
            height: 10,
            radius: 12
        },
        itemMargin: {
            horizontal: 8,
            vertical: 4
        }
    },
    responsive: [
        {
            // tablets
            breakpoint: 1024,
            options: {
                chart: {
                    height: 300
                },
                legend: {
                    fontSize: '12px',
                    itemMargin: {
                        horizontal: 6,
                        vertical: 3
                    }
                }
            }
        },
        {
            // m贸viles
            breakpoint: 640,
            options: {
                chart: {
                    height: 260
                },
                legend: {
                    fontSize: '10px',
                    itemMargin: {
                        horizontal: 4,
                        vertical: 2
                    }
                }
            }
        }
    ]
};

                    
                    const donutChart = document.querySelector("#eventsDonutChart");
                    if (donutChart) {
                        new ApexCharts(donutChart, donutOptions).render();
                    }
                    
                    // Trends Chart
                    const trendsOptions = {
                        series: [{
                            name: 'Asistencia',
                            data: [31, 40, 28, 51, 42, 59, 50, 62, 60, 71, 68, 82]
                        }, {
                            name: 'Registros',
                            data: [11, 32, 45, 32, 34, 52, 41, 37, 45, 55, 63, 75]
                        }],
                        chart: {
                            height: 350,
                            type: 'area',
                            toolbar: {
                                show: false
                            }
                        },
                        dataLabels: {
                            enabled: false
                        },
                        stroke: {
                            curve: 'smooth'
                        },
                        xaxis: {
                            categories: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic']
                        },
                        colors: ['#3b82f6', '#10b981'],
                        fill: {
                            type: 'gradient',
                            gradient: {
                                shadeIntensity: 1,
                                opacityFrom: 0.7,
                                opacityTo: 0.3
                            }
                        }
                    };
                    
                    const trendsChart = document.querySelector("#trendsChart");
                    if (trendsChart) {
                        new ApexCharts(trendsChart, trendsOptions).render();
                    }
                },

                // Attendance helpers
                filteredAttendance() {
                    const search = this.attendanceFilters.search.toLowerCase();
                    return this.attendanceRecords.filter(record => {
                        const matchesEvent = this.attendanceFilters.event === 'all' || record.eventId === this.attendanceFilters.event;
                        const matchesStatus = this.attendanceFilters.status === 'all' || record.status === this.attendanceFilters.status;
                        const matchesSearch =
                            !search ||
                            record.name.toLowerCase().includes(search) ||
                            record.document.toLowerCase().includes(search);
                        return matchesEvent && matchesStatus && matchesSearch;
                    });
                },

                statusBadgeClass(status) {
                    if (status === 'present') {
                        return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100';
                    }
                    if (status === 'late') {
                        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100';
                    }
                    if (status === 'absent') {
                        return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100';
                    }
                    return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-100';
                },

                statusLabel(status) {
                    if (status === 'present') return 'Presente';
                    if (status === 'late') return 'Tarde';
                    if (status === 'absent') return 'Ausente';
                    return status;
                },

                toggleAttendanceStatus(id) {
                    const record = this.attendanceRecords.find(r => r.id === id);
                    if (!record) return;
                    record.status = record.status === 'present' ? 'absent' : 'present';
                    this.showToast('Estado de asistencia actualizado', 'success');
                },

                markAsLate(id) {
                    const record = this.attendanceRecords.find(r => r.id === id);
                    if (!record) return;
                    record.status = 'late';
                    this.showToast('Participante marcado como tarde', 'info');
                },

                getAttendanceSummary() {
                    const summary = { total: this.attendanceRecords.length, present: 0, late: 0, absent: 0 };
                    this.attendanceRecords.forEach(r => {
                        if (r.status === 'present') summary.present++;
                        else if (r.status === 'late') summary.late++;
                        else if (r.status === 'absent') summary.absent++;
                    });
                    return summary;
                },

                // Settings helpers
                setTheme(mode) {
                    this.settings.theme = mode;
                    if (mode === 'dark') {
                        this.darkMode = true;
                        document.documentElement.classList.add('dark');
                    } else if (mode === 'light') {
                        this.darkMode = false;
                        document.documentElement.classList.remove('dark');
                    } else {
                        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                        this.darkMode = prefersDark;
                        document.documentElement.classList.toggle('dark', this.darkMode);
                    }
                    localStorage.setItem('darkMode', this.darkMode);
                },

                saveSettings() {
                    this.showToast('Configuraci贸n guardada correctamente', 'success');
                },

                resetSettings() {
                    this.settings = {
                        organizationName: 'Universidad Demo',
                        organizationEmail: 'coordinacion@universidaddemo.edu.co',
                        language: 'es',
                        timeZone: 'America/Bogota',
                        dateFormat: 'DD/MM/YYYY',
                        emailReminders: true,
                        pushNotifications: true,
                        soundAlerts: false,
                        autoDarkMode: true,
                        keepSessionActive: true,
                        theme: 'auto'
                    };
                    this.setTheme('auto');
                    this.showToast('Configuraci贸n restablecida', 'info');
                }
            }
        }
    </script>
</body>
</html>
